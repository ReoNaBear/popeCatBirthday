<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>卯咪生日快樂</title>
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
  <link rel="stylesheet" href="index.css">
  <style>
    .normal-shape {
      width: 7.8125vw;
      height: 7.8125vw;
      background-position: center;
      background-size: contain;
      background-repeat: no-repeat;
      position: absolute;
      top: 55%;
      right: 15%;
    }
    
    .lock {
      background-image: url(./lock.png);
    }
    
    .angel {
      background-image: url(./angel.png);
    }
    
    .universe {
      background-image: url(./universe.png);
    }
    
    .smile {
      background-image: url(./smile.png);
    }
    
    .amulet {
      background-image: url(./胖丁打醒卡.png);
      height: 25vw;
      width: 9.375vw;
      top: 9.5%;
    }
    
    .heart-icon {
      background-image: url(./heart.png);
      opacity: 1;
    }
    
    .rain {
      background-image: url(./rain.png);
    }
    
    .sketch {
      background-image: url(./sketch.png);
    }
    
    .disable-word {
      color: white;
      transition: color 3s;
    }
    
    .disable-image {
      opacity: 0;
      transition: opacity 3s;
    }
    
    .display-none {
      display: none;
    }
    
    .password {
      width: 15.625vw;
      border: aliceblue;
      background-color: bisque;
      border-radius: 1.046vw;
      text-align: center;
    }
    
    .change-btn {
      border-radius: 1.3021vw;
      border: black;
      font-size: 0.521vw;
      line-height: 1.5625vw;
    }
    
    .result-word {
      transition: color 3s;
    }
    
    .gift {
      width: 100%;
      height: 80%;
      margin: 1.042vw auto;
      padding-top: 2.084vw;
      padding-bottom: 2.084vw;
      box-shadow: 0vw 0vw 0.2605vw 0vw #888;
      background-image: url(./gift.jpg);
      background-position: center;
      background-size: contain;
      background-repeat: no-repeat;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="filter"></div>
    <div class="envlope-wrapper">
      <div id="envelope" class="close">
        <div class="bear-letter"></div>
        <div class="front flap"></div>
        <div class="front pocket"></div>
        <div class="letter">
          <div class=" swiper mySwiper">
            <div class="swiper-wrapper">
              <!-- 5/5 -->
              <div class="swiper-slide">
                <div class="paper">
                  <div class="pattern">
                    <div class="content">
                      5/5
                      <br /><br /> 今天剛好是世界密碼日， 目的在維護大家密碼的安全，
                      </br>但是根據中桃園的最新研究指出，
                      </br>有一款最新型的密碼 - "1i qj3al 94t m6"，能夠解開世界上數一數二難解開的帳戶
                      </br>她能夠輕易地入侵每個人的Heart Account
                      </br>接近你的內心深處
                      </br>讓你暈，暈爆那種
                      </br>搭配上甜美的嗓音，豪爽的笑聲
                      </br>直接讓你身心靈都快活起來
                      </br>非常的可愛，我是說可怕拉
                      </br>
                      </br>聽說民間有個偏方
                      </br>到下方這個網址
                      </br>https://www.twitch.tv/popecatengblue
                      </br>使用贈訂及小奇點或許能夠有效避免上述症狀
                      </br>我目前使用沒有效果，但我許是基數不夠
                      </br>希望大家跟我一起實驗看看 :)
                    </div>
                  </div>
                </div>
                <div class="lock normal-shape"></div>
              </div>
              <!-- 5/6 -->
              <div class="swiper-slide">
                <div class="paper">
                  <div class="pattern">
                    <div class="content">
                      5/6
                      <br /><br />在2001年的這個時候
                      </br>第一位前往太空旅行的遊客返回了地球
                      </br>縱使宇宙的一切都如此驚人
                      </br>最後還是會回歸地球的懷抱
                      </br>
                      </br>如今我們身在圖奇宇宙
                      </br>繞了一圈
                      </br>即便還有很多令人好奇的台
                      </br>最後還是回到這裡
                      </br>跟妳一起搞耍
                      </br>
                      </br>妳就跟地球一樣
                      </br>多變但溫和
                      </br>或許只是一期一會
                      </br>卻遺留下了 心的種子
                      </br>
                    </div>
                  </div>
                </div>
                <div class="universe normal-shape"></div>
              </div>
              <!-- 5/7 -->
              <div class="swiper-slide">
                <div class="paper">
                  <div class="pattern">
                    <div class="content">
                      5/7
                      <br /><br />在快200年前，一部作品震驚了維也納
                      </br>也徹底影響了全世界
                      </br>那就是貝多芬的第9號交響曲
                      </br>第4樂章中加入了人聲
                      </br>其中我特別愛這兩句
                      </br>Alle Menschen werden Brüder,
                      </br>Wo dein sanfter Flügel weilt.
                      </br>
                      </br>在妳溫柔的羽翼之下
                      </br>四海之內皆為兄弟
                      </br>
                      </br>感謝妳將妳的溫柔及快樂
                      </br>分享給所有的波寶
                      </br>讓這個不太融洽的世界
                      </br>多了點和諧的音調
                      </br>
                    </div>
                  </div>
                </div>
                <div class="angel normal-shape"></div>
              </div>
              <!-- 5/8 -->
              <div class="swiper-slide">
                <div class="paper">
                  <div class="pattern">
                    <div class="content">
                      5/8
                      <br /><br />如果末世來臨只能帶一樣東西，
                      </br>我想我會帶上妳的笑容
                      </br>
                      </br>世界或許不是那麼完美
                      </br>或許會遇到許多苦難
                      </br>很多的挫折
                      </br>所以我遇到妳們的時候會給妳們
                      </br>一個充滿活力的微笑
                      </br>
                      </br>當我嘴角垂下時
                      </br>也謝謝卯咪跟大家
                      </br>讓我又有電力
                      </br>能夠重新擁抱世界
                      </br>
                      </br>我想當每個人都能微笑的一起面對世界時
                      </br>就是 世界微笑日 想要傳達的理念吧
                    </div>
                  </div>
                </div>
                <div class="smile normal-shape"></div>
              </div>
              <!-- 5/9 -->
              <div class="swiper-slide">
                <div class="paper">
                  <div class="pattern">
                    <div class="content">
                      5/9 防暈小卡
                      <br /><br />今天沒有什麼主題
                      </br>偶然的從大家的對話中的得到靈感
                      </br>一個專業的台主
                      </br>我想一個專屬的防暈小卡是很重要的
                      </br>所以我製作了這張
                      </br>胖丁打醒卡
                      </br>
                      </br>有需要的人可以自取
                      </br>聽說只要貼在額頭上
                      </br>吃飽至少2餐
                      </br>睡足至少6小
                      </br>就能有良好的改變
                      </br>將會有更好的看台體驗
                      </br>歡迎撥打以下電話
                      </br>將不會有專人為您服務
                      </br>0920-045-617
                      </br>0920-妳是我-的氧氣
                    </div>
                  </div>
                </div>
                <div class="amulet normal-shape"></div>
              </div>
              <!-- 5/10 -->
              <div class="swiper-slide">
                <div class="paper">
                  <div class="pattern">
                    <div class="content">
                      5/10
                      <br /><br />卯咪卯咪
                      </br>我跟你說喔
                      </br>我偷偷跟著魯夫
                      </br>最後終於找到了大秘寶
                      </br>他說大秘寶會顯示心中的想法
                      </br>但是上面只寫了一串文字
                      </br><input class="password" type="text" readonly value="\u536f\u54aa\u6211\u559c\u6b61\u4f60">
                      </br>
                      </br>你可以幫我在下面的密碼轉換器
                      </br>幫我轉成中文嗎?
                      </br>
                      </br>密碼填這裡↓↓↓↓↓
                      </br><input type="text" class="input" style="width: 250px;"> <button class="change-btn">轉換</button>
                      </br>
                      <div class="result disable-word" style="padding-top: 10px;"></div>
                      </br>
                      <div class="disable-word result-word">怎麼就這樣被你發現惹 (w´ω｀w)</div>
                    </div>
                  </div>
                </div>
                <div class="heart-icon disable-image normal-shape"></div>
              </div>
              <!-- 5/11 -->
              <div class="swiper-slide">
                <div class="paper">
                  <div class="pattern">
                    <div class="content">
                      5/11
                      <br /><br />今天下了點雨
                      </br>天的顏色也帶了點灰
                      </br>我的心情好像也有點沉悶
                      </br>
                      </br>在一個平凡無奇的下雨天
                      </br>雨滴在那滴答滴答的談話
                      </br>聲音彷彿也鑽進了我的靈魂
                      </br>裡頭的意念 跟著心臟 撲通撲通
                      </br>
                      </br>想飛奔過去親口問問
                      </br>你 今天過的好嗎
                      </br>
                      </br>
                      </br>下雨了，能讓我為你，撐一把傘嗎?
                      </br>
                      </br>
                    </div>
                  </div>
                </div>
                <div class="rain normal-shape"></div>
              </div>
              <!-- 5/12 -->
              <div class="swiper-slide">
                <div class="paper">
                  <div class="pattern">
                    <div class="content">
                      5/12
                      <br /><br />今天來講一下作畫的整個過程好了
                      </br>邊看著妳邊思考著
                      </br>卯咪，藍色，夜的元素
                      </br>
                      </br>幻想在一個帶點星星的夜
                      </br>我看著妳
                      </br>妳看著我
                      </br>時間就像靜止了
                      </br>
                      </br>有顆星星調皮的滑過妳的臉頰
                      </br>但不影響妳美麗的容顏
                      </br>
                      </br>什麼? 妳說什麼畫?
                      </br>妳等等就知道惹
                      </br>: 28 :
                      </br>
                    </div>
                  </div>
                </div>
                <div class="sketch normal-shape"></div>
              </div>
              <!-- 5/13 -->
              <div class="swiper-slide">
                <div class="paper">
                  <div class="pattern">
                    <div class="content">
                      5/13
                      <br /><br />
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                    </div>
                  </div>
                </div>
              </div>
              <!-- 5/14 -->
              <div class="swiper-slide">
                <div class="paper">
                  <div class="pattern">
                    <div class="content">
                      5/14
                      <br /><br />ㄅㄆㄇ! 終於到了這一天!!!!!!!!!!!!!!
                      </br>我記得我剛看到妳的台沒多久後，就跑進來DC聽阿丸說故事惹，店員還說要把沒看過台的都踢掉
                      </br>沒想到就這樣聊著聊著，就8個月了，很高興能一起經歷一些事情，有些共同的回憶。
                      </br>相處到後來發現，我真的是很喜歡妳，不是說戀愛還是啥的那種，是說相處起來可以很放鬆
                      </br>如果妳不嫌棄，我會想再跟妳一起做很多很多好玩的事情。
                      </br>我就像在地球上看著宇宙中的妳，好像伸出手就能碰到，張開眼就能看到，雖然隔著螢幕，
                      </br>但卻覺得無比的接近，我不是個天文學家，但在這些星塵中，妳總是能發出光芒，讓我找到。
                      </br>如果妳遇到麻煩，我會擋在妳的面前，妳就只管看好我的背影
                      </br>如果妳向前邁進，我會走到隊伍最後，妳就往前 後方就交給我
                      </br>雖然妳煩惱時可能不會來找我，但我都在這
                      </br>我的朋友，或許之後會因為各式各樣的原因而分離，但我希望我能帶給妳以及大家
                      </br>一個美好的回憶，讓妳能在繁忙的世界中，偶爾的想起我時，能夠帶著一抹微笑
                      </br>或許妳會需要一聲加油，或是一個擁抱，或是一個再平常不過的早安，
                      </br>當我的朋友需要我，我就會在，因為跟妳們一起快樂，是我願意用一生追求的事情
                      </br>我的禮物就放在最後一頁，雖然不太好看，但希望妳的喜歡。
                      </br>卯咪，生日快樂，很高興能在此時此刻，與妳相遇。
                      <div style="text-align: right;">By熊熊</div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="swiper-slide">
                <div class="gift">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="hearts">
          <div class="heart a1"></div>
          <div class="heart a2"></div>
          <div class="heart a3"></div>
        </div>
      </div>
    </div>
  </div>
</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.5.5/pixi.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.2/TweenMax.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.2/plugins/PixiPlugin.min.js"></script>

<script>
  var swiper = new Swiper(".mySwiper", {
    spaceBetween: 30,
    effect: "cards",
  });
</script>
<script>
  let envelope = document.querySelector('#envelope')
  let nextBtn = document.querySelector('.swiper-button-next')
  let prevBtn = document.querySelector('.swiper-button-prev')
  let bearToy = document.querySelector('.bear-letter')
  envelope.addEventListener('click', function() {
    bearToy.classList.add('display-none')
    envelope.classList.add('open')
    envelope.classList.remove('close')
  })

  envelope.addEventListener('transitionend', letterExtend)
  let letterCount = 1

  function letterExtend(e) {

    if (e.target.matches('.letter')) {
      letterCount++
      if (letterCount === 2) {
        e.target.classList.add('top')
      }
      if (letterCount === 3) {
        e.target.classList.add('full')
      }
      if (letterCount === 4) {
        e.target.classList.add('word')
      }

    }
  }
  let input = document.querySelector('.input')
  let btn = document.querySelector('.change-btn')
  let result = document.querySelector('.result')
  let heartIcon = document.querySelector('.heart-icon')
  let resultWord = document.querySelector('.result-word')

  btn.addEventListener('click', function() {
    let str = input.value.toString()
    let word = unescape(str.replace(/\\u/g, '%u'))
    result.innerText = `轉換結果=> ${word}`
    result.classList.remove('disable-word')
    if (word === "卯咪我喜歡你") {
      heartIcon.classList.remove('disable-image')
      resultWord.classList.remove('disable-word')
    }
  })
</script>

<script>
  var popCounter = 0;

  var $windowWidth = $(window).width();
  var $windowHeight = $(window).height();

  PIXI.utils.skipHello(); // remove pixi message in console log 

  var app = new PIXI.Application($windowWidth, $windowHeight, {
    transparent: true,
    resolution: 1
  });
  $('.container').append(app.view);

  var particleCount = 100;
  var particleColors = ['26a3ff', '13ce66', 'ff49db', 'af8dd1', '9162bf', 'ff7849', 'ffc82c']
  var particleSettings;

  for (var i = 0; i < particleCount; i++) {
    particleSettings = {
      particleSize: 10,
      x: Math.floor(Math.random() * app.renderer.width),
      y: Math.floor(Math.random() * app.renderer.height),
      scale: Math.floor(Math.random() * 3) / 3,
      alpha: Math.random(),
      particleSpeed: Math.floor(Math.min(200, Math.random() * 1000)),
      color: particleColors[Math.floor(Math.random() * particleColors.length)]
    }
    createParticle(particleSettings);
  }

  function createParticle() {

    // GRAPHIC
    var graphic = new PIXI.Graphics(); // create graphic
    graphic.beginFill('0x' + particleSettings.color);
    graphic.drawCircle(0, 0, particleSettings.particleSize); // (x, y, radius) // gets scaled as a sprite later
    graphic.endFill();

    // TEXTURE
    var texture = graphic.generateCanvasTexture(); // create texture using graphic (scaleMode, resolution)
    texture.baseTexture.scaleMode = PIXI.SCALE_MODES.NEAREST; // scale mode for pixelation

    // SPRITE
    var particleSprite = new PIXI.Sprite(texture); // create particle using texture
    particleSprite.interactive = true; // enable mouse and touch events    
    particleSprite.buttonMode = true; // show hand cursor on mouseover
    particleSprite.anchor.set(0.5); // center anchor point
    particleSprite.blendMode = PIXI.BLEND_MODES.SCREEN;


    // SET POSITIONING
    TweenMax.set(particleSprite, {
      pixi: {
        x: particleSettings.x,
        y: particleSettings.y,
        scale: particleSettings.scale,
        alpha: particleSettings.alpha
      }
    }, 0);
    TweenMax.to(particleSprite, particleSettings.particleSpeed, {
      pixi: {
        x: Math.floor(Math.random() * app.renderer.width),
        y: Math.floor(Math.random() * app.renderer.height)
      },
      ease: Power4.easeOut,
      onComplete: function() {
        popParticle();
      }
    }, 1);

    // 
    function popParticle() {
      TweenMax.to(particleSprite, 0.3, {
        pixi: {
          scale: 3,
          alpha: 0
        }
      }, 0);
    }

    // MOUSE EVENTS
    particleSprite.mouseover = function() {
      // TweenMax.to(particleSprite, 0.3, {pixi:{x:0, y:0}}, 0);
      popParticle();
      popCounter++
    }

    // ADD SPRITE TO STAGE
    app.stage.addChild(particleSprite);
  }
</script>

</html>