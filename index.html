<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>卯咪生日快樂</title>
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
  <link rel="stylesheet" href="index.css">
</head>

<body>

  <div class="container">
    <div class="filter"></div>
    <div class="envlope-wrapper">
      <div id="envelope" class="close">
        <div class="front flap"></div>
        <div class="front pocket"></div>
        <div class="letter">
          <div class=" swiper mySwiper">
            <div class="swiper-wrapper">
              <!-- 5/5 -->
              <div class="swiper-slide">
                <div class="paper">
                  <div class="pattern">
                    <div class="content">
                      5/5
                      <br/><br/> 今天剛好是世界密碼日， 目的在維護大家密碼的安全，
                      </br>但是根據中桃園的最新研究指出，
                      </br>有一款最新型的密碼 - "1i qj3al 94t m6"，能夠解開世界上數一數二難解開的帳戶
                      </br>她能夠輕易地入侵每個人的Heart Account
                      </br>接近你的內心深處
                      </br>讓你暈，暈爆那種
                      </br>搭配上甜美的嗓音，豪爽的笑聲
                      </br>直接讓你身心靈都快活起來
                      </br>非常的可愛，我是說可怕拉
                      </br>
                      </br>聽說民間有個偏方
                      </br>到下方這個網址
                      </br>https://www.twitch.tv/popecatengblue
                      </br>使用贈訂及小奇點或許能夠有效避免上述症狀
                      </br>我目前使用沒有效果，但我許是基數不夠
                      </br>希望大家跟我一起實驗看看 :)
                    </div>
                  </div>
                </div>
              </div>
              <!-- 5/6 -->
              <div class="swiper-slide">
                <div class="paper">
                  <div class="pattern">
                    <div class="content">
                      5/6
                      <br/><br/>在2001年的這個時候
                      </br>第一位前往太空旅行的遊客返回了地球
                      </br>縱使宇宙的一切都如此驚人
                      </br>最後還是會回歸地球的懷抱
                      </br>
                      </br>如今我們身在圖奇宇宙
                      </br>繞了一圈
                      </br>即便還有很多令人好奇的台
                      </br>最後還是回到這裡
                      </br>跟妳一起搞耍
                      </br>
                      </br>妳就跟地球一樣
                      </br>多變但溫和
                      </br>或許只是一期一會
                      </br>卻遺留下了 心的種子
                      </br>
                    </div>
                  </div>
                </div>
              </div>
              <!-- 5/7 -->
              <div class="swiper-slide">
                <div class="paper">
                  <div class="pattern">
                    <div class="content">
                      5/7
                      <br/><br/>在快200年前，一部作品震驚了維也納
                      </br>也徹底影響了全世界
                      </br>那就是貝多芬的第9號交響曲
                      </br>第4樂章中加入了人聲
                      </br>其中我特別愛這兩句
                      </br>Alle Menschen werden Brüder,
                      </br>Wo dein sanfter Flügel weilt.
                      </br>
                      </br>在妳溫柔的羽翼之下
                      </br>四海之內皆為兄弟
                      </br>
                      </br>感謝妳將妳的溫柔及快樂
                      </br>分享給所有的波寶
                      </br>讓這個不太融洽的世界
                      </br>多了點和諧的音調
                      </br>
                    </div>
                  </div>
                </div>
              </div>
              <!-- 5/8 -->
              <div class="swiper-slide">
                <div class="paper">
                  <div class="pattern">
                    <div class="content">
                      5/8
                      <br/><br/>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                    </div>
                  </div>
                </div>
              </div>
              <div class="swiper-slide">
                <div class="paper">
                  <div class="pattern">
                    <div class="content">
                      5/9 防暈小卡
                      <br/><br/>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                    </div>
                  </div>
                </div>
              </div>
              <div class="swiper-slide">
                <div class="paper">
                  <div class="pattern">
                    <div class="content">
                      5/10
                      <br/><br/>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                    </div>
                  </div>
                </div>
              </div>
              <div class="swiper-slide">
                <div class="paper">
                  <div class="pattern">
                    <div class="content">
                      5/11
                      <br/><br/>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                    </div>
                  </div>
                </div>
              </div>
              <div class="swiper-slide">
                <div class="paper">
                  <div class="pattern">
                    <div class="content">
                      5/12
                      <br/><br/>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                    </div>
                  </div>
                </div>
              </div>
              <div class="swiper-slide">
                <div class="paper">
                  <div class="pattern">
                    <div class="content">
                      5/13
                      <br/><br/>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                    </div>
                  </div>
                </div>
              </div>
              <div class="swiper-slide">
                <div class="paper">
                  <div class="pattern">
                    <div class="content">
                      5/14
                      <br/><br/>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                      </br>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="hearts">
          <div class="heart a1"></div>
          <div class="heart a2"></div>
          <div class="heart a3"></div>
        </div>
      </div>
    </div>
  </div>
</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.5.5/pixi.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.2/TweenMax.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.2/plugins/PixiPlugin.min.js"></script>

<script>
  var swiper = new Swiper(".mySwiper", {
    spaceBetween: 30,
    effect: "cards",
  });
</script>
<script>
  let envelope = document.querySelector('#envelope')
  let nextBtn = document.querySelector('.swiper-button-next')
  let prevBtn = document.querySelector('.swiper-button-prev')
  envelope.addEventListener('click', function() {
    envelope.classList.add('open')
    envelope.classList.remove('close')
  })

  envelope.addEventListener('transitionend', letterExtend)
  let letterCount = 1

  function letterExtend(e) {

    if (e.target.matches('.letter')) {
      letterCount++
      if (letterCount === 2) {
        e.target.classList.add('top')
      }
      if (letterCount === 3) {
        e.target.classList.add('full')
      }
      if (letterCount === 4) {
        e.target.classList.add('word')
      }

    }
  }
</script>

<script>
  var popCounter = 0;

  var $windowWidth = $(window).width();
  var $windowHeight = $(window).height();

  PIXI.utils.skipHello(); // remove pixi message in console log 

  var app = new PIXI.Application($windowWidth, $windowHeight, {
    transparent: true,
    resolution: 1
  });
  $('.container').append(app.view);

  var particleCount = 100;
  var particleColors = ['26a3ff', '13ce66', 'ff49db', 'af8dd1', '9162bf', 'ff7849', 'ffc82c']
  var particleSettings;

  for (var i = 0; i < particleCount; i++) {
    particleSettings = {
      particleSize: 10,
      x: Math.floor(Math.random() * app.renderer.width),
      y: Math.floor(Math.random() * app.renderer.height),
      scale: Math.floor(Math.random() * 3) / 3,
      alpha: Math.random(),
      particleSpeed: Math.floor(Math.min(200, Math.random() * 1000)),
      color: particleColors[Math.floor(Math.random() * particleColors.length)]
    }
    createParticle(particleSettings);
  }

  function createParticle() {

    // GRAPHIC
    var graphic = new PIXI.Graphics(); // create graphic
    graphic.beginFill('0x' + particleSettings.color);
    graphic.drawCircle(0, 0, particleSettings.particleSize); // (x, y, radius) // gets scaled as a sprite later
    graphic.endFill();

    // TEXTURE
    var texture = graphic.generateCanvasTexture(); // create texture using graphic (scaleMode, resolution)
    texture.baseTexture.scaleMode = PIXI.SCALE_MODES.NEAREST; // scale mode for pixelation

    // SPRITE
    var particleSprite = new PIXI.Sprite(texture); // create particle using texture
    particleSprite.interactive = true; // enable mouse and touch events    
    particleSprite.buttonMode = true; // show hand cursor on mouseover
    particleSprite.anchor.set(0.5); // center anchor point
    particleSprite.blendMode = PIXI.BLEND_MODES.SCREEN;


    // SET POSITIONING
    TweenMax.set(particleSprite, {
      pixi: {
        x: particleSettings.x,
        y: particleSettings.y,
        scale: particleSettings.scale,
        alpha: particleSettings.alpha
      }
    }, 0);
    TweenMax.to(particleSprite, particleSettings.particleSpeed, {
      pixi: {
        x: Math.floor(Math.random() * app.renderer.width),
        y: Math.floor(Math.random() * app.renderer.height)
      },
      ease: Power4.easeOut,
      onComplete: function() {
        popParticle();
      }
    }, 1);

    // 
    function popParticle() {
      TweenMax.to(particleSprite, 0.3, {
        pixi: {
          scale: 3,
          alpha: 0
        }
      }, 0);
    }

    // MOUSE EVENTS
    particleSprite.mouseover = function() {
      // TweenMax.to(particleSprite, 0.3, {pixi:{x:0, y:0}}, 0);
      popParticle();
      popCounter++
    }

    // ADD SPRITE TO STAGE
    app.stage.addChild(particleSprite);
  }
</script>

</html>